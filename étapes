1. Démarrer l'instance EC2

  - Console AWS → EC2 → Instances
  - Sélectionne forum-server → Instance state → Start instance
  - Attends que le statut passe à running
  - Note la nouvelle IP publique

  ---
  2. Mettre à jour l'IP dans le frontend (sur ton PC)

  nano /home/salim/Documents/Forum/frontend/src/app/services/message.ts

  Remplace l'ancienne IP par la nouvelle :
  private backendUrl: string = "http://<NOUVELLE_IP>/api/"

  ---
  3. Rebuild le frontend

  cd /home/salim/Documents/Forum/frontend
  ng build --configuration production

  ---
  4. Transférer vers l'EC2

  scp -i /chemin/vers/forum-key.pem -r /home/salim/Documents/Forum/frontend/www/* ubuntu@<NOUVELLE_IP>:/tmp/forum/

  ---
  5. Connecte-toi à l'EC2 et copie les fichiers

  ssh -i /chemin/vers/forum-key.pem ubuntu@<NOUVELLE_IP>

  Puis sur l'EC2 :
  sudo cp -r /tmp/forum/* /var/www/forum/

  ---
  6. Teste

  Ouvre http://<NOUVELLE_IP> dans ton navigateur.

  ---
  7. Après la démo, stoppe l'instance

  - EC2 → Instances → Stop instance

  ---
  Garde ce résumé quelque part. Bonne chance pour ta présentation !


  /// 2 ////

   Résumé complet : Relancer le forum

  ---
  1. Démarrer l'instance EC2

  - Console AWS → EC2 → Instances
  - Sélectionne forum-server → Instance state → Start instance
  - Attends running, note la nouvelle IP publique

  ---
  2. Connecte-toi à l'EC2

  ssh -i /chemin/vers/forum-key.pem ubuntu@<NOUVELLE_IP>

  ---
  3. Modifier la config MySQL (si besoin)

  nano ~/backend/sql/sqlConfig.js

  Modifie les identifiants :
  config: {
    sqlHost: "127.0.0.1",
    sqlDatabase: "forum",
    charset: "utf8",
    sqlLogin: "forumuser",
    sqlPassword: "TonMotDePasse123!"
  }

  Puis redémarre le backend :
  pm2 restart forum-backend

  ---
  4. Mettre à jour l'IP dans le frontend (sur ton PC)

  nano /home/salim/Documents/Forum/frontend/src/app/services/message.ts

  private backendUrl: string = "http://<NOUVELLE_IP>/api/"

  ---
  5. Rebuild le frontend

  cd /home/salim/Documents/Forum/frontend
  ng build --configuration production

  ---
  6. Transférer vers l'EC2

  scp -i /chemin/vers/forum-key.pem -r /home/salim/Documents/Forum/frontend/www/* ubuntu@<NOUVELLE_IP>:/tmp/forum/

  ---
  7. Sur l'EC2, copier les fichiers

  sudo cp -r /tmp/forum/* /var/www/forum/

  ---
  8. Teste

  Ouvre http://<NOUVELLE_IP> dans ton navigateur.

  ---
  9. Après la démo

  EC2 → Instances → Stop instance

  ---
  


Sur l'EC2, connecte-toi à MySQL :

  sudo mysql

  Puis exécute :

  ALTER USER 'forumuser'@'localhost' IDENTIFIED BY 'NouveauMotDePasse';
  FLUSH PRIVILEGES;
  EXIT;

  Ensuite n'oublie pas de mettre à jour sqlConfig.js avec le nouveau mot de passe :

  nano ~/backend/sql/sqlConfig.js

  Et redémarrer le backend :

  pm2 restart forum-backend

